# ì´ì»¤ë¨¸ìŠ¤ ì‹¤í—˜ì‹¤ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ (2025-05-01 ~ )

íš¨ìœ¨ì ì¸ ì•„í‚¤í…ì²˜ì™€ ì„±ëŠ¥ ê°œì„  í¬ì¸íŠ¸ ë„ì¶œì„ ìœ„í•œ ì‹¤í—˜ì„ ì§„í–‰í•˜ëŠ” ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

[ë…¸ì…˜ ë°”ë¡œê°€ê¸°](https://thoughtful-sodium-948.notion.site/1f0d2ba300e680189cc0c5746563ef47?pvs=4)

## ğŸ“Œ í”„ë¡œì íŠ¸ ëª©ì 
- ì´ì»¤ë¨¸ìŠ¤ ë„ë©”ì¸ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë‹¤ì–‘í•œ ì‹¤í—˜ì„ ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸
- íš¨ìœ¨ì ì¸ í”„ë¡œì íŠ¸ ê´€ë¦¬ë¥¼ ìœ„í•œ ëª¨ë“ˆ ë¶„ë¦¬
- ì„¸ë¶€ ë„ë©”ì¸ë³„ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±ì„ ìœ„í•œ ê¸°ìˆ  ì„ íƒ
- ë¶€í•˜ë¥¼ ì¸¡ì •í•˜ê³  ì„±ëŠ¥ ê°œì„  í¬ì¸íŠ¸ ë„ì¶œ


## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ
- Language: Kotlin 1.9.25 (Java 21)
- Framework: Spring Boot 3.4.5
- ORM: JPA, QueryDSL
- Database: PostgreSQL 17.4, Redis 7.0.4
- Infra: Docker 28.0.1, Docker Compose 2.32.4
- Test: Artillery 1.7.9 (Node.js v24.1.0)


## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°
```bash
.
â”œâ”€â”€ artillery                  # artillery test scripts
â”œâ”€â”€ docker                     # docker compose settings for local
â””â”€â”€ modules                    # gradle multi-module projects
    â”œâ”€â”€ app                    # spring boot application (monolithic architecture)  
    â”œâ”€â”€ common                 # ê³µí†µ ëª¨ë“ˆ
    â”‚Â Â  â”œâ”€â”€ auth         # ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ì¦ ê´€ë ¨ ê³µí†µ ëª¨ë“ˆ
    â”‚Â Â  â””â”€â”€ snowflake    # unique key generator with snowflake 
    â”œâ”€â”€ order                  # ì£¼ë¬¸ ê´€ë ¨ ëª¨ë“ˆ
    â”‚Â Â  â””â”€â”€ order-api    # ì£¼ë¬¸ ë„ë©”ì¸ ë¡œì§ êµ¬í˜„ ë° API ëª¨ë“ˆ
    â””â”€â”€ product                # ìƒí’ˆ ê´€ë ¨ ëª¨ë“ˆ
        â”œâ”€â”€ product-api        # ìƒí’ˆ API
        â””â”€â”€ product-core       # ìƒí’ˆ ë„ë©”ì¸ ë¡œì§ êµ¬í˜„ ëª¨ë“ˆ
```

### app
ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì ì…ë‹ˆë‹¤.  
`common`, `order`, `product` ë“± í•˜ìœ„ ëª¨ë“ˆì„ `implementation`ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ëª¨ë…¸ë¦¬ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•©ë‹ˆë‹¤.  
ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ê°œë°œì€ í•˜ìœ„ ë„ë©”ì¸ ëª¨ë“ˆì—ì„œ ìˆ˜í–‰ë˜ë©°, ë°°í¬ëŠ” `app` ëª¨ë“ˆì„ ë¹Œë“œí•˜ì—¬ ì§„í–‰í•©ë‹ˆë‹¤.  


### common
ê³µí†µ ëª¨ë“ˆë¡œ, ì—¬ëŸ¬ ë„ë©”ì¸ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ í‹¸ë¦¬í‹° ë˜ëŠ” ê³µí†µ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

- `auth`: ì¸ì¦ ê´€ë ¨ ê³µí†µ ëª¨ë“ˆì…ë‹ˆë‹¤. í˜„ì¬ëŠ” ì¸ì¦ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ì§€ ì•Šì•˜ìœ¼ë©°, ì¸í„°í˜ì´ìŠ¤ì™€ `FakeUserContext` ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ìš© ìœ ì € ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- `snowflake`: ìœ ë‹ˆí¬í•œ IDë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” Snowflake ê¸°ë°˜ ID ìƒì„±ê¸°ì…ë‹ˆë‹¤.


### order
ì£¼ë¬¸ ë„ë©”ì¸ì˜ ìš”êµ¬ì‚¬í•­ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•œ í•˜ìœ„ ëª¨ë“ˆì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

- `order-api`: ì£¼ë¬¸ ë„ë©”ì¸ì˜ API ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í¬í•¨í•˜ëŠ” ëª¨ë“ˆì…ë‹ˆë‹¤.


### product
ìƒí’ˆ ë„ë©”ì¸ì˜ ìš”êµ¬ì‚¬í•­ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•œ í•˜ìœ„ ëª¨ë“ˆì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

- `product-api`: ìƒí’ˆ ë„ë©”ì¸ì˜ APIë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.
- `product-core`: ìƒí’ˆ ë„ë©”ì¸ì˜ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ ë° ë¡œì§ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.  

> ğŸ“Œ **ëª¨ë“ˆ ë„¤ì´ë° ê·œì¹™**  
> ë„ë©”ì¸ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¤ê¸° ìœ„í•´ ì‹ ê·œ ëª¨ë“ˆì´ í•„ìš”í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> - ì£¼ë¬¸ ë„ë©”ì¸ì—ì„œ ë°°ì¹˜ ê´€ë ¨ ê¸°ëŠ¥ ì¶”ê°€ : order-batch
> - ì£¼ë¬¸ ë„ë©”ì¸ì—ì„œ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ : order-consumer



## ğŸ³ commerce-app ë„ì»¤ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ë°©ë²•
```shell
# run postgresql docker compose 
docker compose -f ./docker/postgresql/docker-compose.yml up -d
# run redis docker compose 
docker compose -f ./docker/redis/docker-compose.yml up -d
# run commerce-app docker compose  
docker compose -f ./docker/commerce-app/docker-compose.yml up -d 
```

